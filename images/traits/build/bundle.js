var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}const u="undefined"!=typeof window;let c=u?()=>window.performance.now():()=>Date.now(),l=u?t=>requestAnimationFrame(t):t;const h=new Set;function f(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&l(f)}function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function w(){return y("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function M(t,e){t.value=null==e?"":e}let k,N;function A(){if(void 0===k){k=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){k=!0}}return k}function E(t){N=t}function S(){if(!N)throw new Error("Function called outside component initialization");return N}function R(t){S().$$.on_destroy.push(t)}const z=[],_=[],q=[],j=[],C=Promise.resolve();let P=!1;function T(t){q.push(t)}const F=new Set;let W=0;function I(){const t=N;do{for(;W<z.length;){const t=z[W];W++,E(t),L(t.$$)}for(E(null),z.length=0,W=0;_.length;)_.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];F.has(e)||(F.add(e),e())}q.length=0}while(z.length);for(;j.length;)j.pop()();P=!1,F.clear(),E(t)}function L(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const H=new Set;let O;function D(){O={r:0,c:[],p:O}}function B(){O.r||r(O.c),O=O.p}function V(t,e){t&&t.i&&(H.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),O.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function G(t){t&&t.c()}function U(t,n,o,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=t.$$;s&&s.m(n,o),a||T((()=>{const n=u.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(T)}function Y(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(z.push(t),P||(P=!0,C.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,i,o,a,s,u,c,l=[-1]){const h=N;E(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:l,skip_bound:!1,root:i.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&Z(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(g)}else f.fragment&&f.fragment.c();i.intro&&V(e.$$.fragment),U(e,i.target,i.anchor,i.customElement),I()}E(h)}class K{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Q=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];class tt{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:e}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,e),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:e,context:n,width:r,height:i}){const o={context:n,width:r,height:i};if(this.needsResize&&(n.setTransform(e,0,0,e,0,0),this.needsResize=!1),this.needsSetup){for(const[t,e]of this.setups)e(o),this.setups.delete(t);this.needsSetup=!1}if(this.needsRedraw){t&&n.clearRect(0,0,r,i);for(const t of this.layerSequence)this.renderers.get(t)(o);this.needsRedraw=!1}}}function et(e){let n,r,o,a,u,c,l,h,f;const d=e[13].default,y=function(t,e,n,r){if(t){const i=s(t,e,n,r);return t[0](i)}}(d,e,e[12],null);return{c(){var t,i,s,l;n=m("canvas"),u=$(),c=m("div"),y&&y.c(),x(n,"style",r="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),x(n,"width",o=e[1]*e[0]),x(n,"height",a=e[2]*e[0]),t=c,i="display",null===(s="none")?t.style.removeProperty(i):t.style.setProperty(i,s,l?"important":"")},m(r,o){var a;p(r,n,o),e[14](n),p(r,u,o),p(r,c,o),y&&y.m(c,null),e[15](c),l=!0,h||(a=e[6].call(null,n),f=a&&i(a.destroy)?a.destroy:t,h=!0)},p(t,[e]){(!l||14&e&&r!==(r="display: block; width: "+t[1]+"px; height: "+t[2]+"px;"+(t[3]?` ${t[3]}`:"")))&&x(n,"style",r),(!l||3&e&&o!==(o=t[1]*t[0]))&&x(n,"width",o),(!l||5&e&&a!==(a=t[2]*t[0]))&&x(n,"height",a),y&&y.p&&(!l||4096&e)&&function(t,e,n,r,i,o){if(i){const a=s(e,n,r,o);t.p(a,i)}}(y,d,t,t[12],l?function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(d,t[12],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[12]),null)},i(t){l||(V(y,t),l=!0)},o(t){X(y,t),l=!1},d(t){t&&g(n),e[14](null),t&&g(u),t&&g(c),y&&y.d(t),e[15](null),h=!1,f()}}}const nt={};function rt(t,e,n){let r,i,o,a,s,{$$slots:u={},$$scope:c}=e,{width:l=640,height:h=640,pixelRatio:f,style:d=null,autoclear:p=!0}=e;const g=function(){const t=S();return e=>{const n=Q.map((n=>b(e,n,(e=>function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}(t,e)))));return{destroy:()=>n.forEach((t=>t()))}}}(),m=new tt;function y(){m.render({context:i,width:l,height:h,pixelRatio:f,autoclear:p}),o=window.requestAnimationFrame(y)}var $;return void 0===f&&(f="undefined"==typeof window?2:window.devicePixelRatio),function(t,e){S().$$.context.set(t,e)}(nt,{register:m.register,unregister:m.unregister,redraw:m.redraw}),$=()=>{function t(){const t=[...a.children].map((t=>+t.dataset.layerId));n(11,m.layerSequence=t,m),m.redraw()}i=r.getContext("2d"),s=new MutationObserver(t),s.observe(a,{childList:!0}),t(),y()},S().$$.on_mount.push($),R((()=>{"undefined"!=typeof window&&(window.cancelAnimationFrame(o),s.disconnect())})),t.$$set=t=>{"width"in t&&n(1,l=t.width),"height"in t&&n(2,h=t.height),"pixelRatio"in t&&n(0,f=t.pixelRatio),"style"in t&&n(3,d=t.style),"autoclear"in t&&n(7,p=t.autoclear),"$$scope"in t&&n(12,c=t.$$scope)},t.$$.update=()=>{2183&t.$$.dirty&&m.resize()},[f,l,h,d,r,a,g,p,function(){m.redraw()},function(){return r},function(){return i},m,c,u,function(t){_[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(t){_[t?"unshift":"push"]((()=>{a=t,n(5,a)}))}]}class it extends K{constructor(t){super(),J(this,t,rt,et,o,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function ot(e){let n;return{c(){n=m("div"),x(n,"data-layer-id",e[0])},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&g(n)}}}function at(t,e,n){const{register:r,unregister:i,redraw:o}=(a=nt,S().$$.context.get(a));var a;let{setup:s,render:u=(()=>{})}=e;if("function"!=typeof s&&void 0!==s)throw new Error("setup must be a function");if("function"!=typeof u)throw new Error("render must be a function");const c=r({setup:s,render:u});return R((()=>i(c))),t.$$set=t=>{"setup"in t&&n(1,s=t.setup),"render"in t&&n(2,u=t.render)},t.$$.update=()=>{4&t.$$.dirty&&o()},[c,s,u]}class st extends K{constructor(t){super(),J(this,t,at,ot,o,{setup:1,render:2})}}const ut=[];function ct(e,n=t){let r;const i=new Set;function a(t){if(o(e,t)&&(e=t,r)){const t=!ut.length;for(const t of i)t[1](),ut.push(t,e);if(t){for(let t=0;t<ut.length;t+=2)ut[t][0](ut[t+1]);ut.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,s=t){const u=[o,s];return i.add(u),1===i.size&&(r=n(a)||t),o(e),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}let lt;const ht=Date.now();function ft(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pt(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=ft,n=(e,n)=>ft(t(e),n),r=(e,n)=>t(e)-n):(e=t===ft||t===dt?t:gt,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function gt(){return 0}!function(t,e){ct(t,e).subscribe}(Date.now()-ht,"undefined"==typeof window?function(){}:function t(e){return e(Date.now()-ht),lt=window.requestAnimationFrame((()=>t(e))),()=>window.cancelAnimationFrame(lt)});const mt=pt(ft).right;pt((function(t){return null===t?NaN:+t})).center;var yt=mt;function $t(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var wt=Math.sqrt(50),bt=Math.sqrt(10),xt=Math.sqrt(2);function vt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=wt?10:o>=bt?5:o>=xt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=wt?10:o>=bt?5:o>=xt?2:1)}function Mt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function At(){}var Et=.7,St=1/Et,Rt="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qt=/^#([0-9a-f]{3,8})$/,jt=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),Ct=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Pt=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${zt}\\)$`),Tt=new RegExp(`^rgba\\(${_t},${_t},${_t},${zt}\\)$`),Ft=new RegExp(`^hsl\\(${zt},${_t},${_t}\\)$`),Wt=new RegExp(`^hsla\\(${zt},${_t},${_t},${zt}\\)$`),It={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function Ht(){return this.rgb().formatRgb()}function Ot(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Dt(e):3===n?new Gt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new Gt(e[1],e[2],e[3],1):(e=Ct.exec(t))?new Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Pt.exec(t))?Bt(e[1],e[2],e[3],e[4]):(e=Tt.exec(t))?Bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ft.exec(t))?Qt(e[1],e[2]/100,e[3]/100,1):(e=Wt.exec(t))?Qt(e[1],e[2]/100,e[3]/100,e[4]):It.hasOwnProperty(t)?Dt(It[t]):"transparent"===t?new Gt(NaN,NaN,NaN,0):null}function Dt(t){return new Gt(t>>16&255,t>>8&255,255&t,1)}function Bt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gt(t,e,n,r)}function Vt(t){return t instanceof At||(t=Ot(t)),t?new Gt((t=t.rgb()).r,t.g,t.b,t.opacity):new Gt}function Xt(t,e,n,r){return 1===arguments.length?Vt(t):new Gt(t,e,n,null==r?1:r)}function Gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ut(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}`}function Yt(){const t=Zt(this.opacity);return`${1===t?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${1===t?")":`, ${t})`}`}function Zt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kt(t){return((t=Jt(t))<16?"0":"")+t.toString(16)}function Qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ee(t,e,n,r)}function te(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof At||(t=Ot(t)),!t)return new ee;if(t instanceof ee)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new ee(a,s,u,t.opacity)}function ee(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ne(t){return(t=(t||0)%360)<0?t+360:t}function re(t){return Math.max(0,Math.min(1,t||0))}function ie(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}kt(At,Ot,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return te(this).formatHsl()},formatRgb:Ht,toString:Ht}),kt(Gt,Xt,Nt(At,{brighter(t){return t=null==t?St:Math.pow(St,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Et:Math.pow(Et,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gt(Jt(this.r),Jt(this.g),Jt(this.b),Zt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:function(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}${Kt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Yt,toString:Yt})),kt(ee,(function(t,e,n,r){return 1===arguments.length?te(t):new ee(t,e,n,null==r?1:r)}),Nt(At,{brighter(t){return t=null==t?St:Math.pow(St,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Et:Math.pow(Et,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gt(ie(t>=240?t-240:t+120,i,r),ie(t,i,r),ie(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ee(ne(this.h),re(this.s),re(this.l),Zt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zt(this.opacity);return`${1===t?"hsl(":"hsla("}${ne(this.h)}, ${100*re(this.s)}%, ${100*re(this.l)}%${1===t?")":`, ${t})`}`}}));var oe=t=>()=>t;function ae(t){return 1==(t=+t)?se:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):oe(isNaN(e)?n:e)}}function se(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):oe(isNaN(t)?e:t)}var ue=function t(e){var n=ae(e);function r(t,e){var r=n((t=Xt(t)).r,(e=Xt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=se(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ce(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function le(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ye(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function he(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function de(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ye(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ge=new RegExp(pe.source,"g");function me(t,e){var n,r,i,o=pe.lastIndex=ge.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=pe.exec(t))&&(r=ge.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:fe(n,r)})),o=ge.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function ye(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?oe(e):("number"===i?fe:"string"===i?(n=Ot(e))?(e=n,ue):me:e instanceof Ot?ue:e instanceof Date?he:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?le:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?de:fe:ce))(t,e)}function $e(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function we(t){return+t}var be=[0,1];function xe(t){return t}function ve(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Me(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ve(i,r),o=n(a,o)):(r=ve(r,i),o=n(o,a)),function(t){return o(r(t))}}function ke(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ve(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=yt(t,e,1,r)-1;return o[n](i[n](e))}}function Ne(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ae(){var t,e,n,r,i,o,a=be,s=be,u=ye,c=xe;function l(){var t,e,n,u=Math.min(a.length,s.length);return c!==xe&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?ke:Me,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),fe)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,we),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=$e,l()},h.clamp=function(t){return arguments.length?(c=!!t||xe,l()):c!==xe},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function Ee(){return Ae()(xe,xe)}function Se(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Re(t){return(t=Se(Math.abs(t)))?t[1]:NaN}var ze,_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qe(t){if(!(e=_e.exec(t)))throw new Error("invalid format: "+t);var e;return new je({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function je(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ce(t,e){var n=Se(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qe.prototype=je.prototype,je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Pe={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ce(100*t,e),r:Ce,s:function(t,e){var n=Se(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ze=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Se(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Te(t){return t}var Fe,We,Ie,Le=Array.prototype.map,He=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oe(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Te:(e=Le.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Te:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Le.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=qe(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,$=t.type;"n"===$?(g=!0,$="g"):Pe[$]||(void 0===m&&(m=12),y=!0,$="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===f?i:"#"===f&&/[boxX]/.test($)?"0"+$.toLowerCase():"",b="$"===f?o:/[%p]/.test($)?u:"",x=Pe[$],v=/[defgprs%]/.test($);function M(t){var i,o,u,f=w,M=b;if("c"===$)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===$?He[8+ze/3]:"")+M+(k&&"("===h?")":""),v)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){M=(46===u?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var N=f.length+t.length+M.length,A=N<p?new Array(p-N+1).join(e):"";switch(g&&d&&(t=r(A+t,A.length?p-M.length:1/0),A=""),n){case"<":t=f+t+M+A;break;case"=":t=f+A+t+M;break;case"^":t=A.slice(0,N=A.length>>1)+f+t+M+A.slice(N);break;default:t=A+f+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test($)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=qe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Re(e)/3))),i=Math.pow(10,-r),o=He[8+r/3];return function(t){return n(i*t)+o}}}}function De(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=wt?i*=10:o>=bt?i*=5:o>=xt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=qe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Re(e)/3)))-Re(Math.abs(t)))}(o,a))||(r.precision=i),Ie(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Re(e)-Re(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Re(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return We(r)}function Be(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=vt(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return De(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=vt(u,c,n))===r)return o[a]=u,o[s]=c,e(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ve(){var t=Ee();return t.copy=function(){return Ne(t,Ve())},Mt.apply(t,arguments),Be(t)}function Xe(t){let e,n;return e=new st({props:{render:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.render=t[0]),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ge(t,e,n){let r,i,{scale:o,tickSize:a=4,margin:s,tickNumber:u=10,type:c="x"}=e;return t.$$set=t=>{"scale"in t&&n(1,o=t.scale),"tickSize"in t&&n(2,a=t.tickSize),"margin"in t&&n(3,s=t.margin),"tickNumber"in t&&n(4,u=t.tickNumber),"type"in t&&n(5,c=t.type)},t.$$.update=()=>{18&t.$$.dirty&&n(6,r=o.ticks(u)),110&t.$$.dirty&&n(0,i=({context:t,width:e,height:n})=>{t.beginPath(),r.forEach((e=>{"x"===c?(t.moveTo(o(e),n-s.bottom),t.lineTo(o(e),n-s.bottom+a)):"y"===c&&(t.moveTo(s.left,o(e)),t.lineTo(s.left-a,o(e)))})),t.strokeStyle="black",t.stroke(),t.textAlign="x"===c?"center":"right",t.textBaseline="x"===c?"top":"middle",t.fillStyle="black",r.forEach((e=>{"x"===c?t.fillText(e,o(e),n-s.bottom+a+1):"y"===c&&t.fillText(e,s.left-a-1,o(e))}))})},[i,o,a,s,u,c,r]}Fe=Oe({thousands:",",grouping:[3],currency:["$",""]}),We=Fe.format,Ie=Fe.formatPrefix;class Ue extends K{constructor(t){super(),J(this,t,Ge,Xe,o,{scale:1,tickSize:2,margin:3,tickNumber:4,type:5})}}function Ye(t){let e,n;return e=new st({props:{render:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.render=t[0]),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function Ze(t,e,n){let r,{x:i=0,y:o=0,w:a=1,h:s=1,fill:u="black",stroke:c=null,strokeWidth:l=1}=e;return t.$$set=t=>{"x"in t&&n(1,i=t.x),"y"in t&&n(2,o=t.y),"w"in t&&n(3,a=t.w),"h"in t&&n(4,s=t.h),"fill"in t&&n(5,u=t.fill),"stroke"in t&&n(6,c=t.stroke),"strokeWidth"in t&&n(7,l=t.strokeWidth)},t.$$.update=()=>{62&t.$$.dirty&&n(0,r=({context:t})=>{t.fillStyle=u,t.beginPath(),t.rect(i,o,a,s),t.fill()})},[r,i,o,a,s,u,c,l]}class Je extends K{constructor(t){super(),J(this,t,Ze,Ye,o,{x:1,y:2,w:3,h:4,fill:5,stroke:6,strokeWidth:7})}}function Ke(t){return"[object Date]"===Object.prototype.toString.call(t)}function Qe(t,e,n,r){if("number"==typeof n||Ke(n)){const i=r-n,o=(n-e)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,Ke(n)?new Date(n.getTime()+a):n+a)}if(Array.isArray(n))return n.map(((i,o)=>Qe(t,e[o],n[o],r[o])));if("object"==typeof n){const i={};for(const o in n)i[o]=Qe(t,e[o],n[o],r[o]);return i}throw new Error(`Cannot spring ${typeof n} values`)}function tn(t,e={}){const n=ct(t),{stiffness:r=.15,damping:i=.8,precision:o=.01}=e;let a,s,u,d=t,p=t,g=1,m=0,y=!1;function $(e,r={}){p=e;const i=u={};if(null==t||r.hard||w.stiffness>=1&&w.damping>=1)return y=!0,a=c(),d=e,n.set(t=p),Promise.resolve();if(r.soft){const t=!0===r.soft?.5:+r.soft;m=1/(60*t),g=0}return s||(a=c(),y=!1,s=function(t){let e;return 0===h.size&&l(f),{promise:new Promise((n=>{h.add(e={c:t,f:n})})),abort(){h.delete(e)}}}((e=>{if(y)return y=!1,s=null,!1;g=Math.min(g+m,1);const r={inv_mass:g,opts:w,settled:!0,dt:60*(e-a)/1e3},i=Qe(r,d,t,p);return a=e,d=t,n.set(t=i),r.settled&&(s=null),!r.settled}))),new Promise((t=>{s.promise.then((()=>{i===u&&t()}))}))}const w={set:$,update:(e,n)=>$(e(p,t),n),subscribe:n.subscribe,stiffness:r,damping:i,precision:o};return w}function en(t){let e,n;return e=new st({props:{render:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.render=t[0]),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function nn(t,e,n){let r,i,{x:o=0,y:s=0,r:u=1,fill:c="black",stroke:l=null,strokeWidth:h=1}=e;const f=tn(u,{stiffness:.15,damping:.3});return a(t,f,(t=>n(8,i=t))),t.$$set=t=>{"x"in t&&n(2,o=t.x),"y"in t&&n(3,s=t.y),"r"in t&&n(4,u=t.r),"fill"in t&&n(5,c=t.fill),"stroke"in t&&n(6,l=t.stroke),"strokeWidth"in t&&n(7,h=t.strokeWidth)},t.$$.update=()=>{16&t.$$.dirty&&f.set(u),492&t.$$.dirty&&n(0,r=({context:t})=>{t.fillStyle=c,t.beginPath(),t.arc(o,s,i,0,2*Math.PI),t.fill(),l&&(t.strokeStyle=l,t.lineWidth=h,t.beginPath(),t.arc(o,s,i+h/2,0,2*Math.PI),t.stroke())})},[r,f,o,s,u,c,l,h,i]}class rn extends K{constructor(t){super(),J(this,t,nn,en,o,{x:2,y:3,r:4,fill:5,stroke:6,strokeWidth:7})}}let on,an;const sn=ct(0),un=t=>{an||(an=t);const e=Math.round(t-an);an=t,sn.update((t=>t+e)),on=window.requestAnimationFrame(un)},cn={start(){"undefined"!=typeof window&&(on||(an=null,on=window.requestAnimationFrame(un)))},stop(){"undefined"!=typeof window&&on&&(window.cancelAnimationFrame(on),on=null)},toggle(){on?cn.stop():cn.start()},set(t){"number"==typeof t&&sn.set(t)},reset(){cn.set(0)}};function ln(t,e,n){const r=t.slice();return r[42]=e[n],r[44]=n,r}function hn(t){let e,n;return e=new rn({props:{x:t[15](t[17][t[44]]),y:t[14](0),fill:"lightgreen",r:3}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.x=t[15](t[17][t[44]])),16384&n[0]&&(r.y=t[14](0)),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function fn(t){let e,n;return e=new rn({props:{x:t[15](t[17][t[44]]),y:t[14](0),fill:"forestgreen",r:3}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.x=t[15](t[17][t[44]])),16384&n[0]&&(r.y=t[14](0)),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function dn(t){let e,n;return e=new Je({props:{x:t[15](t[17][t[44]]),y:t[14](1e-5),w:t[11]/(1.1*$n),h:t[14](t[2][t[44]])-t[14](1e-5),fill:t[13](t[5][t[44]])}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.x=t[15](t[17][t[44]])),16384&n[0]&&(r.y=t[14](1e-5)),2048&n[0]&&(r.w=t[11]/(1.1*$n)),16388&n[0]&&(r.h=t[14](t[2][t[44]])-t[14](1e-5)),8224&n[0]&&(r.fill=t[13](t[5][t[44]])),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function pn(t){let e,n;return e=new rn({props:{x:t[15](t[17][t[44]]),y:t[14](t[2][t[44]]),fill:"black",r:1}}),{c(){G(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.x=t[15](t[17][t[44]])),16388&n[0]&&(r.y=t[14](t[2][t[44]])),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function gn(t){let e,n,r,i,o,a=t[16]&&function(t){let e,n,r,i=Math.max(0,.59*wn*Math.exp(.0633*t[4])*(1-Math.pow(t[4]-t[17][t[44]],2)/bn)-vn)>0,o=Math.max(0,wn*(1-t[3]/xn)*.59*Math.exp(.0633*t[4])*(1-Math.pow(t[4]-t[17][t[44]],2)/bn)-vn)>0,a=i&&hn(t),s=o&&fn(t);return{c(){a&&a.c(),e=$(),s&&s.c(),n=w()},m(t,i){a&&a.m(t,i),p(t,e,i),s&&s.m(t,i),p(t,n,i),r=!0},p(t,r){16&r[0]&&(i=Math.max(0,.59*wn*Math.exp(.0633*t[4])*(1-Math.pow(t[4]-t[17][t[44]],2)/bn)-vn)>0),i?a?(a.p(t,r),16&r[0]&&V(a,1)):(a=hn(t),a.c(),V(a,1),a.m(e.parentNode,e)):a&&(D(),X(a,1,1,(()=>{a=null})),B()),24&r[0]&&(o=Math.max(0,wn*(1-t[3]/xn)*.59*Math.exp(.0633*t[4])*(1-Math.pow(t[4]-t[17][t[44]],2)/bn)-vn)>0),o?s?(s.p(t,r),24&r[0]&&V(s,1)):(s=fn(t),s.c(),V(s,1),s.m(n.parentNode,n)):s&&(D(),X(s,1,1,(()=>{s=null})),B())},i(t){r||(V(a),V(s),r=!0)},o(t){X(a),X(s),r=!1},d(t){a&&a.d(t),t&&g(e),s&&s.d(t),t&&g(n)}}}(t);const s=[pn,dn],u=[];return n=1,r=u[1]=s[1](t),{c(){a&&a.c(),e=$(),r.c(),i=w()},m(t,n){a&&a.m(t,n),p(t,e,n),u[1].m(t,n),p(t,i,n),o=!0},p(t,e){t[16]&&a.p(t,e),r.p(t,e)},i(t){o||(V(a),V(r),o=!0)},o(t){X(a),X(r),o=!1},d(t){a&&a.d(t),t&&g(e),u[1].d(t),t&&g(i)}}}function mn(t){let e,n,r,i,o,a,s,u=t[1],c=[];for(let e=0;e<u.length;e+=1)c[e]=gn(ln(t,u,e));const l=t=>X(c[t],1,1,(()=>{c[t]=null}));return n=new rn({props:{x:t[15](t[4]),y:250,fill:"crimson",r:5}}),i=new rn({props:{x:t[15](t[7]),y:250,fill:"forestgreen",r:5}}),a=new Ue({props:{type:"x",scale:t[15],tickNumber:8,margin:t[18]}}),{c(){for(let t=0;t<c.length;t+=1)c[t].c();e=$(),G(n.$$.fragment),r=$(),G(i.$$.fragment),o=$(),G(a.$$.fragment)},m(t,u){for(let e=0;e<c.length;e+=1)c[e].m(t,u);p(t,e,u),U(n,t,u),p(t,r,u),U(i,t,u),p(t,o,u),U(a,t,u),s=!0},p(t,r){if(256062&r[0]){let n;for(u=t[1],n=0;n<u.length;n+=1){const i=ln(t,u,n);c[n]?(c[n].p(i,r),V(c[n],1)):(c[n]=gn(i),c[n].c(),V(c[n],1),c[n].m(e.parentNode,e))}for(D(),n=u.length;n<c.length;n+=1)l(n);B()}const o={};32784&r[0]&&(o.x=t[15](t[4])),n.$set(o);const s={};32896&r[0]&&(s.x=t[15](t[7])),i.$set(s);const h={};32768&r[0]&&(h.scale=t[15]),a.$set(h)},i(t){if(!s){for(let t=0;t<u.length;t+=1)V(c[t]);V(n.$$.fragment,t),V(i.$$.fragment,t),V(a.$$.fragment,t),s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)X(c[t]);X(n.$$.fragment,t),X(i.$$.fragment,t),X(a.$$.fragment,t),s=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),t&&g(e),Y(n,t),t&&g(r),Y(i,t),t&&g(o),Y(a,t)}}}function yn(t){let e,n,i,o,a,s,u,c,l,h,f,w,v,k,N,E,S,R,z,_,q,j,C,P,F,W,I,L,H,O,D=t[0]?"pause":"resume";return W=new it({props:{width:t[11],height:t[12],$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){e=m("div"),n=m("div"),i=m("button"),o=y(D),a=$(),s=m("button"),s.textContent="reset",u=$(),c=m("span"),c.textContent="Total biomass",l=$(),h=m("progress"),w=$(),v=m("span"),v.textContent="steps",k=m("input"),N=$(),E=m("span"),E.textContent="base input",S=m("input"),R=$(),z=m("span"),z.textContent="E rate",_=m("input"),q=$(),j=m("span"),j.textContent="Time average",C=m("input"),P=$(),F=m("div"),G(W.$$.fragment),x(i,"class","svelte-179wx81"),x(s,"class","svelte-179wx81"),x(h,"id","file"),x(h,"max","100"),h.value=f=t[3]/xn*100,x(k,"id","npf"),x(k,"type","range"),x(k,"max","300"),x(k,"min","1"),x(k,"step","0.01"),x(S,"id","base input"),x(S,"type","range"),x(S,"max","8"),x(S,"min","1"),x(S,"step","0.01"),x(_,"id","espeed"),x(_,"type","range"),x(_,"max","5.0"),x(_,"min","1.0"),x(_,"step","0.1"),x(C,"id","fsdg"),x(C,"type","range"),x(C,"max","20.0"),x(C,"min","0.0"),x(C,"step","0.1"),x(n,"class","setting svelte-179wx81"),x(F,"class","chart-container svelte-179wx81"),T((()=>t[31].call(F))),x(e,"class","layout svelte-179wx81")},m(r,f){p(r,e,f),d(e,n),d(n,i),d(i,o),d(n,a),d(n,s),d(n,u),d(n,c),d(n,l),d(n,h),d(n,w),d(n,v),d(n,k),M(k,t[8]),d(n,N),d(n,E),d(n,S),M(S,t[6]),d(n,R),d(n,z),d(n,_),M(_,t[9]),d(n,q),d(n,j),d(n,C),M(C,t[10]),d(e,P),d(e,F),U(W,F,null),I=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=A();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=b(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=b(n.contentWindow,"resize",e)}),d(t,n),()=>{(r||i&&n.contentWindow)&&i(),g(n)}}(F,t[31].bind(F)),L=!0,H||(O=[b(i,"click",t[26]),b(s,"click",t[19]),b(k,"change",t[27]),b(k,"input",t[27]),b(S,"change",t[28]),b(S,"input",t[28]),b(_,"change",t[29]),b(_,"input",t[29]),b(C,"change",t[30]),b(C,"input",t[30])],H=!0)},p(t,e){(!L||1&e[0])&&D!==(D=t[0]?"pause":"resume")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(o,D),(!L||8&e[0]&&f!==(f=t[3]/xn*100))&&(h.value=f),256&e[0]&&M(k,t[8]),64&e[0]&&M(S,t[6]),512&e[0]&&M(_,t[9]),1024&e[0]&&M(C,t[10]);const n={};2048&e[0]&&(n.width=t[11]),4096&e[0]&&(n.height=t[12]),59582&e[0]|16384&e[1]&&(n.$$scope={dirty:e,ctx:t}),W.$set(n)},i(t){L||(V(W.$$.fragment,t),L=!0)},o(t){X(W.$$.fragment,t),L=!1},d(t){t&&g(e),Y(W),I(),H=!1,r(O)}}}let $n=200,wn=.1,bn=425,xn=50,vn=.05;function Mn(t,e,n){let r,i,o,s;a(t,sn,(t=>n(25,s=t)));let u,c,l,h=!0,f=Array($n).fill(.01),d=Array($n).fill(.01),p=Array.from(new Array($n),((t,e)=>e/$n*40)),g=20,m=Array($n).fill(0),y=Array(10*$n).fill(0),$=Array(10*$n).fill(0),w=Array.from(new Array($n),((t,e)=>e)),b=1e-4,x=1,M=0,k=0,N=1,A=0,E=1,S=1,R=0;const z={top:10,right:10,bottom:25,left:25};return t.$$.update=()=>{if(2048&t.$$.dirty[0]&&n(15,r=Ve().domain($t(p)).range([z.left,c-z.right]).nice()),4096&t.$$.dirty[0]&&n(14,i=Ve().domain([.001,xn/15]).range([l-z.bottom,z.top])),64&t.$$.dirty[0]&&n(21,b=Math.exp(x-15)),1024&t.$$.dirty[0]&&n(24,S=Math.exp(-R)),65012670&t.$$.dirty[0]){n(22,M+=1);for(let t=0;t<N;t++)n(23,A+=1*E),n(3,u=f.reduce(((t,e)=>t+e),0)),n(4,g+=20+10*Math.sin(A/1500)-g),f.forEach(((t,e)=>{n(5,m[e]=f[e]*(wn*(1-u/xn)*.59*Math.exp(.0633*g)*(1-Math.pow(g-p[e],2)/bn)-vn),m),n(1,f[e]=Math.max(0,f[e]+1*m[e])+1*b,f),n(2,d[e]+=S*(f[e]-d[e]),d)}));n(7,k=function(t,e){return t.reduce(((t,n,r)=>t+n*e[r]),0)/t.reduce(((t,e)=>t+e),0)}(f,p)),n(20,y[M%2e3]=g-k,y),w[M%2e3]=M,$[M%2e3]=.01*function(t,e){return t.reduce(((t,n,r)=>t+Math.pow(2,k-e[r])*n),0)/t.reduce(((t,e)=>t+e),0)}(f,p)}1050624&t.$$.dirty[0]&&Ve().domain($t(y)).range([z.left,c-z.right]).nice(),4096&t.$$.dirty[0]&&Ve().domain([2e3,0]).range([l-z.bottom,z.top]).nice(),1&t.$$.dirty[0]&&(h?cn.start():cn.stop())},n(13,o=Ve().domain([-.005,0,.005]).range(["steelblue","darkorange","forestgreen"]).nice()),[h,f,d,u,g,m,x,k,N,E,R,c,l,o,i,r,undefined,p,z,()=>{f.forEach(((t,e)=>{n(1,f[e]=.1/$n,f)})),cn.reset()},y,b,M,A,S,s,()=>n(0,h=!h),function(){N=v(this.value),n(8,N)},function(){x=v(this.value),n(6,x)},function(){E=v(this.value),n(9,E)},function(){R=v(this.value),n(10,R)},function(){c=this.clientWidth,l=this.clientHeight,n(11,c),n(12,l)}]}return new class extends K{constructor(t){super(),J(this,t,Mn,yn,o,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
